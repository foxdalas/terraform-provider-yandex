---
subcategory: "Managed Service for Greenplum"
page_title: "Yandex: yandex_mdb_greenplum_cluster"
description: |-
  Get information about a Yandex Managed Greenplum cluster.
---

# yandex_mdb_greenplum_cluster (Data Source)

Get information about a Yandex Managed Greenplum cluster. For more information, see [the official documentation](https://yandex.cloud/docs/managed-greenplum/).

~> Either `cluster_id` or `name` should be specified.

## Example usage

```terraform
//
// Get information about existing MDB Greenplum Cluster.
//
data "yandex_mdb_greenplum_cluster" "foo" {
  name = "test"
}

output "network_id" {
  value = data.yandex_mdb_greenplum_cluster.foo.network_id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `background_activities` (Block List) (see [below for nested schema](#nestedblock--background_activities))
- `cluster_id` (String) The ID of the Greenplum cluster.
- `folder_id` (String) The folder identifier that resource belongs to. If it is not provided, the default provider `folder-id` is used.
- `greenplum_config` (Map of String)
- `master_host_group_ids` (Set of String) A list of IDs of the host groups to place master subclusters' VMs of the cluster on.
- `name` (String) The resource name.
- `pooler_config` (Block List, Max: 1) (see [below for nested schema](#nestedblock--pooler_config))
- `pxf_config` (Block List) (see [below for nested schema](#nestedblock--pxf_config))
- `segment_host_group_ids` (Set of String) A list of IDs of the host groups to place segment subclusters' VMs of the cluster on.

### Read-Only

- `access` (List of Object) (see [below for nested schema](#nestedatt--access))
- `assign_public_ip` (Boolean) Sets whether the master hosts should get a public IP address on creation. Changing this parameter for an existing host is not supported at the moment.
- `backup_window_start` (List of Object) (see [below for nested schema](#nestedatt--backup_window_start))
- `cloud_storage` (List of Object) (see [below for nested schema](#nestedatt--cloud_storage))
- `created_at` (String) The creation timestamp of the resource.
- `deletion_protection` (Boolean) The `true` value means that resource is protected from accidental deletion.
- `description` (String) The resource description.
- `environment` (String) Deployment environment of the Greenplum cluster. (PRODUCTION, PRESTABLE)
- `health` (String) Aggregated health of the cluster.
- `id` (String) The ID of this resource.
- `labels` (Map of String) A set of key/value label pairs which assigned to resource.
- `logging` (List of Object) (see [below for nested schema](#nestedatt--logging))
- `maintenance_window` (List of Object) (see [below for nested schema](#nestedatt--maintenance_window))
- `master_host_count` (Number) Number of hosts in master subcluster (1 or 2).
- `master_hosts` (List of Object) (see [below for nested schema](#nestedatt--master_hosts))
- `master_subcluster` (List of Object) (see [below for nested schema](#nestedatt--master_subcluster))
- `network_id` (String) The `VPC Network ID` of subnets which resource attached to.
- `security_group_ids` (Set of String) The list of security groups applied to resource or their components.
- `segment_host_count` (Number) Number of hosts in segment subcluster (from 1 to 32).
- `segment_hosts` (List of Object) (see [below for nested schema](#nestedatt--segment_hosts))
- `segment_in_host` (Number) Number of segments on segment host (not more then 1 + RAM/8).
- `segment_subcluster` (List of Object) (see [below for nested schema](#nestedatt--segment_subcluster))
- `service_account_id` (String) ID of service account to use with Yandex Cloud resources (e.g. S3, Cloud Logging).
- `status` (String) Status of the cluster.
- `subnet_id` (String) The ID of the subnet, to which the hosts belongs. The subnet must be a part of the network to which the cluster belongs.
- `user_name` (String) Greenplum cluster admin user name.
- `version` (String) Version of the Greenplum cluster. (`6.28`)
- `zone` (String) The [availability zone](https://yandex.cloud/docs/overview/concepts/geo-scope) where resource is located. If it is not provided, the default provider zone will be used.

<a id="nestedblock--background_activities"></a>
### Nested Schema for `background_activities`

Optional:

- `analyze_and_vacuum` (Block List) Block to configure 'ANALYZE' and 'VACUUM' daily operations. (see [below for nested schema](#nestedblock--background_activities--analyze_and_vacuum))

- `query_killer_idle` (Block List) Block to configure script that kills long running queries that are in `idle` state. (see [below for nested schema](#nestedblock--background_activities--query_killer_idle))

- `query_killer_idle_in_transaction` (Block List) Block to configure script that kills long running queries that are in `idle in transaction` state. (see [below for nested schema](#nestedblock--background_activities--query_killer_idle_in_transaction))

- `query_killer_long_running` (Block List) Block to configure script that kills long running queries (in any state). (see [below for nested schema](#nestedblock--background_activities--query_killer_long_running))


<a id="nestedblock--background_activities--analyze_and_vacuum"></a>
### Nested Schema for `background_activities.analyze_and_vacuum`

Optional:

- `analyze_timeout` (Number) Maximum duration of the `ANALYZE` operation, in seconds. The default value is `36000`. As soon as this period expires, the `ANALYZE` operation will be forced to terminate.

- `start_time` (String) Time of day in 'HH:MM' format when scripts should run.

- `vacuum_timeout` (Number) Maximum duration of the `VACUUM` operation, in seconds. The default value is `36000`. As soon as this period expires, the `VACUUM` operation will be forced to terminate.



<a id="nestedblock--background_activities--query_killer_idle"></a>
### Nested Schema for `background_activities.query_killer_idle`

Optional:

- `enable` (Boolean) Flag that indicates whether script is enabled.

- `ignore_users` (List of String) List of users to ignore when considering queries to terminate.

- `max_age` (Number) Maximum duration for this type of queries (in seconds).



<a id="nestedblock--background_activities--query_killer_idle_in_transaction"></a>
### Nested Schema for `background_activities.query_killer_idle_in_transaction`

Optional:

- `enable` (Boolean) Flag that indicates whether script is enabled.

- `ignore_users` (List of String) List of users to ignore when considering queries to terminate.

- `max_age` (Number) Maximum duration for this type of queries (in seconds).



<a id="nestedblock--background_activities--query_killer_long_running"></a>
### Nested Schema for `background_activities.query_killer_long_running`

Optional:

- `enable` (Boolean) Flag that indicates whether script is enabled.

- `ignore_users` (List of String) List of users to ignore when considering queries to terminate.

- `max_age` (Number) Maximum duration for this type of queries (in seconds).




<a id="nestedblock--pooler_config"></a>
### Nested Schema for `pooler_config`

Optional:

- `pool_client_idle_timeout` (Number) Value for `pool_client_idle_timeout` [parameter in Odyssey](https://github.com/yandex/odyssey/blob/master/documentation/configuration.md#pool_ttl-integer).

- `pool_size` (Number) Value for `pool_size` [parameter in Odyssey](https://github.com/yandex/odyssey/blob/master/documentation/configuration.md#pool_size-integer).

- `pooling_mode` (String) Mode that the connection pooler is working in. See descriptions of all modes in the [documentation for Odyssey](https://github.com/yandex/odyssey/blob/master/documentation/configuration.md#pool-string.



<a id="nestedblock--pxf_config"></a>
### Nested Schema for `pxf_config`

Optional:

- `connection_timeout` (Number) The Tomcat server connection timeout for read operations in seconds. Value is between 5 and 600.

- `max_threads` (Number) The maximum number of PXF tomcat threads. Value is between 1 and 1024.

- `pool_allow_core_thread_timeout` (Boolean) Identifies whether or not core streaming threads are allowed to time out.

- `pool_core_size` (Number) The number of core streaming threads. Value is between 1 and 1024.

- `pool_max_size` (Number) The maximum allowed number of core streaming threads. Value is between 1 and 1024.

- `pool_queue_capacity` (Number) The capacity of the core streaming thread pool queue. Value is positive.

- `upload_timeout` (Number) The Tomcat server connection timeout for write operations in seconds. Value is between 5 and 600.

- `xms` (Number) Maximum JVM heap size for PXF daemon. Value is between 64 and 16384.

- `xmx` (Number) Initial JVM heap size for PXF daemon. Value is between 64 and 16384.



<a id="nestedatt--access"></a>
### Nested Schema for `access`

Read-Only:

- `data_lens` (Boolean) Allow access for [Yandex DataLens](https://yandex.cloud/services/datalens).

- `data_transfer` (Boolean) Allow access for [DataTransfer](https://yandex.cloud/services/data-transfer)

- `web_sql` (Boolean) Allows access for [SQL queries in the management console](https://yandex.cloud/docs/managed-mysql/operations/web-sql-query).

- `yandex_query` (Boolean) Allow access for [Yandex Query](https://yandex.cloud/services/query)



<a id="nestedatt--backup_window_start"></a>
### Nested Schema for `backup_window_start`

Read-Only:

- `hours` (Number) The hour at which backup will be started (UTC).

- `minutes` (Number) The minute at which backup will be started (UTC).



<a id="nestedatt--cloud_storage"></a>
### Nested Schema for `cloud_storage`

Read-Only:

- `enable` (Boolean) Whether to use cloud storage or not.



<a id="nestedatt--logging"></a>
### Nested Schema for `logging`

Read-Only:

- `command_center_enabled` (Boolean) Deliver Yandex Command Center's logs to Cloud Logging.

- `enabled` (Boolean) Flag that indicates whether log delivery to Cloud Logging is enabled.

- `folder_id` (String) ID of folder to which deliver logs.

- `greenplum_enabled` (Boolean) Deliver Greenplum's logs to Cloud Logging.

- `log_group_id` (String) Cloud Logging group ID to send logs to.

- `pooler_enabled` (Boolean) Deliver connection pooler's logs to Cloud Logging.



<a id="nestedatt--maintenance_window"></a>
### Nested Schema for `maintenance_window`

Read-Only:

- `day` (String) Day of the week (in `DDD` format). Allowed values: `MON`, `TUE`, `WED`, `THU`, `FRI`, `SAT`, `SUN`.

- `hour` (Number) Hour of the day in UTC (in `HH` format). Allowed value is between 0 and 23.

- `type` (String) Type of maintenance window. Can be either `ANYTIME` or `WEEKLY`. A day and hour of window need to be specified with weekly window.



<a id="nestedatt--master_hosts"></a>
### Nested Schema for `master_hosts`

Read-Only:

- `assign_public_ip` (Boolean)
- `fqdn` (String)


<a id="nestedatt--master_subcluster"></a>
### Nested Schema for `master_subcluster`

Read-Only:

- `resources` (Block List, Min: 1, Max: 1) Resources allocated to hosts for master subcluster of the Greenplum cluster. (see [below for nested schema](#nestedobjatt--master_subcluster--resources))


<a id="nestedobjatt--master_subcluster--resources"></a>
### Nested Schema for `master_subcluster.resources`

Read-Only:

- `disk_size` (Number) Volume of the storage available to a host, in gigabytes.

- `disk_type_id` (String) Type of the storage of Greenplum hosts - environment default is used if missing.

- `resource_preset_id` (String) The ID of the preset for computational resources available to a host (CPU, memory etc.). For more information, see [the official documentation](https://yandex.cloud/ru/docs/managed-greenplum/concepts/instance-types).




<a id="nestedatt--segment_hosts"></a>
### Nested Schema for `segment_hosts`

Read-Only:

- `fqdn` (String)


<a id="nestedatt--segment_subcluster"></a>
### Nested Schema for `segment_subcluster`

Read-Only:

- `resources` (Block List, Min: 1, Max: 1) Resources allocated to hosts for segment subcluster of the Greenplum cluster. (see [below for nested schema](#nestedobjatt--segment_subcluster--resources))


<a id="nestedobjatt--segment_subcluster--resources"></a>
### Nested Schema for `segment_subcluster.resources`

Read-Only:

- `disk_size` (Number) Volume of the storage available to a host, in gigabytes.

- `disk_type_id` (String) Type of the storage of Greenplum hosts - environment default is used if missing.

- `resource_preset_id` (String) The ID of the preset for computational resources available to a host (CPU, memory etc.). For more information, see [the official documentation](https://yandex.cloud/ru/docs/managed-greenplum/concepts/instance-types).

